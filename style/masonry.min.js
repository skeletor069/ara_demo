/*
    Name: jQuery grid
    Plugin Url: https://umkka.github.io/jquery-grid
    Author: Umkka 
    Author Url: http://umkka.net  
    Year: 2016
*/

jQuery.fn.msrItems=function(t,i){return this.each(function(){function n(){width=(l.width()-(col-1)*mar)/col,left=[0],height=[0];for(var t=1;t<col;t++)left[t]=left[t-1]+width+mar,height[t]=0;l.css("position","relative").find(".msrItem").each(function(t,i){h(i,"absolute",width,left[lCount],height[lCount]),e($(i),t)})}function o(){count=i.length,$.each(i,function(t,i){item=$(l).append(i).find(".msrItem").last(),h(item,"absolute",width,left[lCount],height[lCount]),e(item,t)})}function e(t,i){height[lCount]+=t.height()+mar,lCount++,lCount==col&&(lCount=0),(i==count-1||0==lCount)&&l.height(Math.max(...height))}function h(t,i,n,o,e){$(t).css({position:i,width:n,left:o,top:e})}var l=$(this);"object"!=typeof t&&t?"init"==t||"refresh"==t?(l.height(0),lCount=0,count=l.find(".msrItem").length,n()):"destroy"==t?l.find(".msrItem").each(function(t,i){h(i,"initial","auto","initial","initial")}):"doload"==t?o():$.error("Method does not exist"):(lCount=0,count=l.find(".msrItem").length,col=2,mar=10,t&&(t.colums&&(col=t.colums),t.margin&&(mar=t.margin)),n())})};